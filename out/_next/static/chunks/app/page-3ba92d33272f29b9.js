(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7825:(e,r,t)=>{Promise.resolve().then(t.bind(t,2530))},3170:(e,r,t)=>{"use strict";t.d(r,{ProfileProvider:()=>c,x:()=>d});var a=t(5155),s=t(2115),i=t(3173),o=t(8698);let l=(0,s.createContext)(),n={age:"",gender:"",areas:[],inspirations:[],linkedinUrl:"",interests:[],skills:[],goals:[],challenges:[],preferences:[],recommendations:{topOfMind:[],careerGrowth:[],personalInterests:[]},chatHistory:[]};function c(e){let{children:r}=e,[t,c]=(0,s.useState)(n),[d,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=i.j.onAuthStateChanged(async e=>{if(e){let r=(0,o.KR)(i.O,"users/".concat(e.uid,"/profile")),t=(0,o.Zy)(r,e=>{let t=e.val();t?c(t):((0,o.hZ)(r,n),c(n)),u(!1)});return()=>t()}{let e=localStorage.getItem("userProfile");e&&c(JSON.parse(e)),u(!1)}});return()=>e()},[]);let p=async e=>{try{let r={...t,...e};if(i.j.currentUser){let r=(0,o.KR)(i.O,"users/".concat(i.j.currentUser.uid,"/profile"));await (0,o.yo)(r,e)}else localStorage.setItem("userProfile",JSON.stringify(r));c(r)}catch(e){console.error("Error updating profile:",e)}},f=async e=>{try{let r=await fetch("/api/profile/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatHistory:e,currentProfile:t})}),{profileUpdates:a}=await r.json();a&&await p({...a,chatHistory:[...t.chatHistory,...e]})}catch(e){console.error("Error updating profile from chat:",e)}};return(0,a.jsx)(l.Provider,{value:{profile:t,updateProfile:p,updateProfileFromChat:f,loading:d},children:r})}let d=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}},2530:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(5155);function s(){return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Welcome to Profile AI"}),(0,a.jsx)("p",{className:"mt-3 text-xl text-gray-500",children:"Get personalized book recommendations based on your profile"})]})})})}t(2115),t(6046),t(3170)},3173:(e,r,t)=>{"use strict";t.d(r,{O:()=>c,j:()=>n});var a=t(9904),s=t(8698),i=t(399);let o={apiKey:"AIzaSyDMgImGCxXusPjGVWpeek8uMlsCdzTW8OU",authDomain:"profileai-bd7c7.firebaseapp.com",projectId:"profileai-bd7c7",storageBucket:"profileai-bd7c7.firebasestorage.app",messagingSenderId:"621048336291",appId:"1:621048336291:web:2e8ccd8569a4cfa4c8d416",databaseURL:t(9538).env.NEXT_PUBLIC_FIREBASE_DATABASE_URL},l=(0,a.Wp)(o),n=(0,i.xI)(l),c=(0,s.C3)(l)}},e=>{var r=r=>e(e.s=r);e.O(0,[507,882,129,441,517,358],()=>r(7825)),_N_E=e.O()}]);
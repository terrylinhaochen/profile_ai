(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7233:(e,t,r)=>{Promise.resolve().then(r.bind(r,3520))},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...u}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:i("lucide",c),...u},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,s.createElement)(l,{ref:n,iconNode:t,className:i("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},3348:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},1466:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8657:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>o});var s=r(5155),a=r(2115),i=r(399),n=r(3173);let l=(0,a.createContext)({}),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,i.hg)(n.j,e=>{e?o(e):o(null),d(!1)});return()=>e()},[]);let h=async(e,t)=>{try{return(await (0,i.eJ)(n.j,e,t)).user}catch(e){throw e}},u=async(e,t)=>{try{return(await (0,i.x9)(n.j,e,t)).user}catch(e){throw e}},p=async()=>{try{let e=new i.HF;return(await (0,i.df)(n.j,e)).user}catch(e){throw e}},m=async()=>{try{await (0,i.CI)(n.j)}catch(e){throw e}};return(0,s.jsx)(l.Provider,{value:{user:r,loading:c,signUp:h,signIn:u,signInWithGoogle:p,logout:m},children:!c&&t})},c=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3170:(e,t,r)=>{"use strict";r.d(t,{ProfileProvider:()=>c,x:()=>d});var s=r(5155),a=r(2115),i=r(3173),n=r(8698);let l=(0,a.createContext)(),o={age:"",gender:"",areas:[],inspirations:[],linkedinUrl:"",interests:[],skills:[],goals:[],challenges:[],preferences:[],recommendations:{topOfMind:[],careerGrowth:[],personalInterests:[]},chatHistory:[]};function c(e){let{children:t}=e,[r,c]=(0,a.useState)(o),[d,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=i.j.onAuthStateChanged(async e=>{if(e){let t=(0,n.KR)(i.O,"users/".concat(e.uid,"/profile")),r=(0,n.Zy)(t,e=>{let r=e.val();r?c(r):((0,n.hZ)(t,o),c(o)),h(!1)});return()=>r()}{let e=localStorage.getItem("userProfile");e&&c(JSON.parse(e)),h(!1)}});return()=>e()},[]);let u=async e=>{try{let t={...r,...e};if(i.j.currentUser){let t=(0,n.KR)(i.O,"users/".concat(i.j.currentUser.uid,"/profile"));await (0,n.yo)(t,e)}else localStorage.setItem("userProfile",JSON.stringify(t));c(t)}catch(e){console.error("Error updating profile:",e)}},p=async e=>{try{let t=await fetch("/api/profile/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatHistory:e,currentProfile:r})}),{profileUpdates:s}=await t.json();s&&await u({...s,chatHistory:[...r.chatHistory,...e]})}catch(e){console.error("Error updating profile from chat:",e)}};return(0,s.jsx)(l.Provider,{value:{profile:r,updateProfile:u,updateProfileFromChat:p,loading:d},children:t})}let d=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}},3520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5155),a=r(2115),i=r(6046),n=r(8657);let l=e=>{let{children:t}=e,{user:r,loading:l}=(0,n.A)(),o=(0,i.useRouter)();return((0,a.useEffect)(()=>{l||r||o.push("/auth/signin")},[r,l,o]),l)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):r?t:null};var o=r(7401);let c=(0,o.A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var d=r(1466);let h=(0,o.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),u=(0,o.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),p=(0,o.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var m=r(3348);let y=(0,o.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var x=r(3170);let g=()=>{var e,t;let[r,l]=(0,a.useState)(!1),o=(0,i.useRouter)(),{profile:g,resetProfile:f}=(0,x.x)(),{user:v}=(0,n.A)(),[j,b]=(0,a.useState)(!1),N=async()=>{try{b(!0),await f(),o.push("/chat")}catch(e){console.error("Error resetting profile:",e)}finally{b(!1)}},w=[{title:"Reading Profile",icon:(0,s.jsx)(c,{className:"w-6 h-6"}),content:(null==g?void 0:g.reading)||"No reading profile information yet",color:"blue",description:"Your reading preferences and history"},{title:"Personal Context",icon:(0,s.jsx)(d.A,{className:"w-6 h-6"}),content:(null==g?void 0:g.personal)||"No personal context added yet",color:"orange",description:"Age, gender, and background information"},{title:"Interests",icon:(0,s.jsx)(h,{className:"w-6 h-6"}),content:(null==g?void 0:g.interests)||"No interests recorded yet",color:"purple",description:"Areas you'd like to explore and learn about"},{title:"Motivation",icon:(0,s.jsx)(u,{className:"w-6 h-6"}),content:(null==g?void 0:g.motivation)||"No motivation information yet",color:"green",description:"What drives you to learn and grow"},{title:"Preferences",icon:(0,s.jsx)(p,{className:"w-6 h-6"}),content:(null==g?void 0:g.preferences)||"No preferences set yet",color:"pink",description:"Your preferred learning style and format"}];return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Your Profile"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Based on your interactions and preferences"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("button",{onClick:()=>o.push("/chat"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg  hover:bg-blue-600 transition-colors flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Start Chat"]}),(0,s.jsxs)("button",{onClick:N,disabled:j,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg  hover:bg-gray-50 transition-colors flex items-center gap-2 disabled:bg-blue-300",children:[(0,s.jsx)(y,{className:"w-4 h-4"}),j?"Processing...":"Refill Onboarding"]})]})]}),(null==g?void 0:null===(e=g.sessionHistory)||void 0===e?void 0:e.length)>0&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-blue-800 mb-3",children:"Last Session Insights"}),(0,s.jsx)("div",{className:"text-blue-600",children:g.sessionHistory[g.sessionHistory.length-1].insights.map((e,t)=>(0,s.jsxs)("p",{className:"mb-2",children:["• ",e]},t))})]}),(0,s.jsx)("div",{className:"space-y-6",children:w.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6  hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-".concat(e.color,"-50 \n                              text-").concat(e.color,"-500"),children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-medium text-gray-900",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,s.jsx)("div",{className:"text-gray-600 text-base pl-14",children:e.content})]},e.title))}),(null==g?void 0:null===(t=g.sessionHistory)||void 0===t?void 0:t.length)>0&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("button",{onClick:()=>l(!r),className:"text-sm text-gray-600 hover:text-gray-900  flex items-center gap-2",children:[(0,s.jsx)(p,{className:"w-4 h-4"}),r?"Hide History":"Show History"]}),r&&(0,s.jsx)("div",{className:"mt-4 space-y-4",children:g.sessionHistory.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Session ",g.sessionHistory.length-t]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.insights.map((e,t)=>(0,s.jsxs)("p",{className:"mb-1",children:["• ",e]},t))})]},t))})]})]})})};function f(){return(0,s.jsx)(l,{children:(0,s.jsx)(g,{})})}},3173:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,j:()=>o});var s=r(9904),a=r(8698),i=r(399);let n={apiKey:"AIzaSyDMgImGCxXusPjGVWpeek8uMlsCdzTW8OU",authDomain:"profileai-bd7c7.firebaseapp.com",projectId:"profileai-bd7c7",storageBucket:"profileai-bd7c7.firebasestorage.app",messagingSenderId:"621048336291",appId:"1:621048336291:web:2e8ccd8569a4cfa4c8d416",databaseURL:r(9538).env.NEXT_PUBLIC_FIREBASE_DATABASE_URL},l=(0,s.Wp)(n),o=(0,i.xI)(l),c=(0,a.C3)(l)}},e=>{var t=t=>e(e.s=t);e.O(0,[507,882,129,441,517,358],()=>t(7233)),_N_E=e.O()}]);